<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>The Boo-riculum – January Week 1 Game Deck</title>
<meta name="theme-color" content="#000">
<link rel="icon" type="image/png" href="booha-ghost.png">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&display=swap" rel="stylesheet" />

<style>
:root{
  --pink:#ff7eb9; --blue:#5ee6ff; --yellow:#fff680;
  --purple:#c77dff; --mint:#a6f7b2; --orange:#ffb366;
  --spinDur: 5s;
}

/* Reset & layout */
*{box-sizing:border-box;margin:0;padding:0}
html,body{
  height:100%;
  font-family:'Cinzel',serif;
  background:#000;
  color:#fff;
  overflow:hidden;
}

#welcome{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100%;
  text-align:center;
  animation:fadeIn 1s ease;
  position:relative;
  padding:1rem;
}
h1{font-size:clamp(32px,5vw,60px);margin-bottom:.4em;font-weight:900;}
h2{font-size:clamp(22px,3vw,36px);margin-bottom:.3em;font-weight:800;color:#ccc;}
h3{font-size:clamp(18px,2.5vw,28px);color:#aaa;margin-bottom:2em;}

/* Grid */
.deck-links{
  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  gap:1.5rem;
  justify-content:center;
  align-items:center;
  max-width:720px;
  width:100%;
}

/* Deck tiles */
a.deck{
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  width:100%;
  aspect-ratio:1 / 1;
  border-radius:20px;
  text-decoration:none;
  color:#111;
  font-weight:900;
  font-size:clamp(0.82rem, 1.35vw, 1.02rem);
  padding:12px;
  overflow:hidden;
  cursor:pointer;
  border:8px solid #000;
  box-shadow:0 0 8px rgba(255,215,0,0.3),0 0 16px rgba(255,215,0,0.15);
  transition:box-shadow .3s ease,transform .3s ease,filter .4s ease;
  will-change:transform;
  text-align:center;
  transform-origin:center center;
}

a.deck.active{
  box-shadow:0 0 14px rgba(255,215,0,0.9),0 0 36px rgba(255,215,0,0.6);
}
a.deck.is-hidden{visibility:hidden;}

/* Colors */
a.deck:nth-child(1){background:var(--pink);}
a.deck:nth-child(2){background:var(--blue);}
a.deck:nth-child(3){background:var(--yellow);}
a.deck:nth-child(4){background:var(--purple);}
a.deck:nth-child(5){background:var(--mint);}
a.deck:nth-child(6){background:var(--orange);}

/* Spiral overlay */
a.deck::after{
  content:"";
  position:absolute;
  top:50%;
  left:50%;
  width:170%;
  height:170%;
  border-radius:50%;
  transform:translate(-50%,-50%) rotate(0deg);
  background:conic-gradient(
    rgba(255,255,255,.8) 0deg 20deg,
    rgba(255,255,255,0) 20deg 40deg,
    rgba(255,255,255,.8) 40deg 60deg,
    rgba(255,255,255,0) 60deg 80deg,
    rgba(255,255,255,.8) 80deg 100deg,
    rgba(255,255,255,0) 100deg 120deg,
    rgba(255,255,255,.8) 120deg 140deg,
    rgba(255,255,255,0) 140deg 360deg
  );
  opacity:.55;
  mix-blend-mode:overlay;
  animation:spin var(--spinDur) linear infinite;
  pointer-events:none;
  z-index:0;
}

/* Text */
a.deck b,
a.deck span{
  position:relative;
  z-index:1;
  display:block;
  width:100%;
  text-align:center;
  white-space:nowrap;
}

a.deck span{
  font-size:0.78em;
  color:#222;
}

/* Multi-line support (Make the Sentences) */
a.deck .title-line{
  display:block;
  font-size:0.95em;
  white-space:nowrap;
}
a.deck .jp{
  display:block;
  font-size:0.75em;
  white-space:nowrap;
}

@keyframes spin{
  to{transform:translate(-50%,-50%) rotate(360deg);}
}
@keyframes fadeIn{
  from{opacity:0;}
  to{opacity:1;}
}

footer{
  position:absolute;
  bottom:20px;
  width:100%;
  text-align:center;
  font-size:clamp(14px,2vw,18px);
  color:#888;
}

/* Fade screen */
#fadeScreen{
  position:fixed;
  inset:0;
  background:#000;
  transform:translateY(100%);
  pointer-events:none;
  transition:transform .085s ease-in-out;
  z-index:9000;
}
#fadeScreen.show{transform:translateY(0);}

/* Mobile */
@media (max-width:768px){
  #welcome{justify-content:flex-start;padding-top:1.5rem;}
  .deck-links{grid-template-columns:repeat(2,1fr);}
  a.deck{font-size:clamp(0.78rem,3.2vw,.95rem);}
  footer{font-size:13px;bottom:10px;}
}
</style>
</head>

<body>

<section id="welcome">
  <h1>The Boo-riculum</h1>
  <h2>ブー・リキュラム</h2>
  <h3>January Week 1 Game Deck<br>１月第１週ゲームデッキ</h3>

  <div class="deck-links">
    <a class="deck" href="tapmatch.html"><b>Tap Match</b><span>タップマッチ</span></a>
    <a class="deck" href="saytheword.html"><b>Say the Word</b><span>ワードを言おう</span></a>
    <a class="deck" href="wordbuilder.html"><b>Word Builder</b><span>ワードビルダー</span></a>
    <a class="deck" href="eigoperapera.html"><b>Eigo Pera Pera</b><span>英語ペラペラ</span></a>

    <!-- MAKE THE SENTENCES (fixed multiline) -->
    <a class="deck" href="makethesentences.html">
      <b>
        <span class="title-line">MAKE THE</span>
        <span class="title-line">SENTENCES</span>
      </b>
      <span class="jp">文を作ろう</span>
    </a>

    <a class="deck" href="eigoadventure.html"><b>Eigo Adventure</b><span>英語アドベンチャー</span></a>
  </div>

  <footer>Bryan's English School</footer>
</section>

<div id="fadeScreen"></div>

<audio id="openSound" src="assets/audio/gameopening.mp3" preload="auto"></audio>

<script>
const openSound = document.getElementById('openSound');
const deckContainer = document.querySelector('.deck-links');
let isTransitioning = false;

function safePlay(aud){
  try{ aud.currentTime=0; aud.play().catch(()=>{});}catch{}
}

deckContainer.addEventListener('click', e=>{
  const deck = e.target.closest('.deck');
  if(!deck || isTransitioning) return;
  e.preventDefault();
  isTransitioning = true;

  safePlay(openSound);

  const target = deck.getAttribute('href');
  const fade = document.getElementById('fadeScreen');

  const r = deck.getBoundingClientRect();
  const clone = deck.cloneNode(true);
  clone.style.position='fixed';
  clone.style.left=r.left+'px';
  clone.style.top=r.top+'px';
  clone.style.width=r.width+'px';
  clone.style.height=r.height+'px';
  clone.style.display='flex';
  clone.style.alignItems='center';
  clone.style.justifyContent='center';
  clone.style.textAlign='center';
  clone.style.zIndex='9999';
  clone.style.pointerEvents='none';

  document.body.appendChild(clone);
  deck.classList.add('is-hidden');

  const cx=window.innerWidth/2-(r.left+r.width/2);
  const cy=window.innerHeight/2-(r.top+r.height/2);

  clone.animate([
    {transform:'translate(0,0) scale(1)'},
    {transform:`translate(${cx}px,${cy}px) scale(2.6)`}
  ],{duration:1800,easing:'ease-in-out',fill:'forwards'});

  setTimeout(()=>{
    fade.classList.add('show');
    setTimeout(()=>location.href=target,200);
  },1500);
});
</script>
</body>
</html>
